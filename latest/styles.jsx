// styles.jsx// Copyright (C) 2012 Fabian "fabiantheblind" Morón Zirfas// http://www.the-moron.net// http://fabiantheblind.info/// info [at] the - moron . net// This program is free software: you can redistribute it and/or modify// it under the terms of the GNU General Public License as published by// the Free Software Foundation, either version 3 of the License, or// any later version.// This program is distributed in the hope that it will be useful,// but WITHOUT ANY WARRANTY; without even the implied warranty of// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the// GNU General Public License for more details.// You should have received a copy of the GNU General Public License// along with this program.  If not, see http://www.gnu.org/licenses/function styles_builder(doc){var objSt1  = doc.objectStyles.add();objSt1.properties = {		name:"imagesBlend",		strokeWeight: 0,		strokeColor:doc.swatches.item(3),		strokeTint: 23,		transparencySettings:{				blendingSettings:{					opacity:100					}				}		};var objSt3  = doc.objectStyles.add();objSt3.properties = {		name:"overlay",		strokeWeight: 5,        strokeAlignment:StrokeAlignment.CENTER_ALIGNMENT,		  transparencySettings:{				blendingSettings:{					blendMode: BlendMode.COLOR					}				}		};	var objSt4  = doc.objectStyles.add();objSt4.properties = {		name:"image_id",		strokeWeight: 0		};var oStyles = new Array();for(var c = 0; c  < meta.highlite.length;c++){	oStyles.push({"name":"images","id":meta.highlite[c].name});		}					for(var o = 0; o < oStyles.length;o++){		var objSt  = doc.objectStyles.add();		objSt.properties = {			name:oStyles[o].name + " " + oStyles[o].id,			strokeWeight: 0,			fillColor:doc.swatches.item(2),			strokeColor:doc.swatches.item(oStyles[o].id+""),			strokeTint: 50		};	}	var cStyles = {	"styles":[ 			{"name":"h1" ,"font":"DejaVu Serif	Book","factor":1.7},			{"name":"h2" ,"font":"DejaVu Serif	Book","factor":1.4},			{"name":"id" ,"font":"DejaVu Serif	Book","factor":1.2},			{"name":"body" ,"font":"DejaVu Serif	Book","factor":1},			{"name":"whitenoise" ,"font":"DejaVu Sans Mono	Book","factor":0.8},			{"name":"image ul" ,"font":"DejaVu Serif	Book","factor":0.6} ],			"base":10 };var vals = new Array();	  vals.push({"id":0,"fll":50});for(var v = 0; v < meta.db.projects.length;v++){		var fll = 50;	if(util_checkhighlite(meta.db.projects[v].id)){		fll =100;   		}else{	   fll = 50;	   }		  vals.push({"id":meta.db.projects[v].id,"fll":fll});		}// now make a double loop // for creating the chracter styles for(var s = 0; s < cStyles.styles.length;s++){ 	for(var v = 0; v < vals.length;v++){		var charStyle = doc.characterStyles.add({				name:cStyles.styles[s].name + " "+vals[v].id				});						if(v != 0){				charStyle.basedOn = doc.characterStyles.item(				cStyles.styles[s].name +" "+vals[0].id);				}//~ 			var base = 0;			if(cStyles.styles[s].name.match("image ul")){//~ 			base = 9;			                if(vals[v].fll == 100)vals[v].fll = 50;             charStyle.baselineShift = 1;			}else{//~ 			base = cStyles.base;								}			charStyle.properties = {				appliedFont : cStyles.styles[s].font,				pointSize: cStyles.base * cStyles.styles[s].factor,				fillTint: vals[v].fll				};			if(util_checkhighlite(vals[v].id)!=true){               if(cStyles.styles[s].name.match("h1") || cStyles.styles[s].name.match("h2")||cStyles.styles[s].name.match("body")){                   charStyle.pointSize = 10;                   }		}			if(cStyles.styles[s].name.match("id")){				charStyle.fillColor = doc.swatches.item(vals[v].id+"");				}			if(cStyles.styles[s].name.match("body")){				charStyle.leading = 12;				}                        		}// close v loop }// close s loop						//~	 var idStyles = new Array();//~	 for(var p = 0; p < meta.db.projects.length; p++){//~		try{ var cst = doc.characterStyles.add({name:"id " +meta.db.projects[p].id});//~		 cst.basedOn = doc.characterStyles.item("h2");//~		 cst.fillColor = doc.swatches.item(meta.db.projects[p].id+"");//~		 }catch(e){alert("in here");}//~		 //~		 }		var parBody = doc.paragraphStyles.add({name:"body"});//~ 	parBody.alignToBaseline = true;    	var parBody = doc.paragraphStyles.add({name:"head"});	parBody.properties = {pointSize:42,appliedFont:"DejaVu Serif	Bold",fillTint:42};    	}